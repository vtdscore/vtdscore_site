<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="library(tidyverse) ## ── Attaching packages ─────────────────────────────────────────────────────────────── tidyverse 1.3.0 ── ## ✓ ggplot2 3.3.2 ✓ purrr 0.3.4 ## ✓ tibble 3.0.2 ✓ dplyr 1.0.0 ## ✓ tidyr 1.1.0 ✓ stringr 1.">

  
  <link rel="alternate" hreflang="en-us" href="/sessions/analyzing-data-from-the-office/">

  


  
  
  
  <meta name="theme-color" content="#003366">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+JP%7CSen%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/sessions/analyzing-data-from-the-office/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="UVM Data Science Core">
  <meta property="og:url" content="/sessions/analyzing-data-from-the-office/">
  <meta property="og:title" content="Analyzing Data from The Office | UVM Data Science Core">
  <meta property="og:description" content="library(tidyverse) ## ── Attaching packages ─────────────────────────────────────────────────────────────── tidyverse 1.3.0 ── ## ✓ ggplot2 3.3.2 ✓ purrr 0.3.4 ## ✓ tibble 3.0.2 ✓ dplyr 1.0.0 ## ✓ tidyr 1.1.0 ✓ stringr 1."><meta property="og:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png">
  <meta property="twitter:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-05-26T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-05-26T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Analyzing Data from The Office | UVM Data Science Core</title>

</head>
<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  









<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">UVM Data Science Core</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">UVM Data Science Core</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/sessions/"><span>Sessions</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#post"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/tutorials/"><span>Tutorials</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/courses/resources/"><span>Resources</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Analyzing Data from The Office</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    May 26, 2020
  </span>
  

  

  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/tidytuesday/">TidyTuesday</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.2     ✓ dplyr   1.0.0
## ✓ tidyr   1.1.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(ggplot2)
library(schrute)</code></pre>
<p>This R Markdown was created for the UVM Student Data Science Core group for an informational session on data visualization. The code reflects real time explanations and questions, and therefore is not cleaned up.</p>
<p>Week 2: Data wrangling</p>
<pre class="r"><code>#read in office data from IBDM
IMDB.data &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-03-17/office_ratings.csv&#39;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   season = col_double(),
##   episode = col_double(),
##   title = col_character(),
##   imdb_rating = col_double(),
##   total_votes = col_double(),
##   air_date = col_date(format = &quot;&quot;)
## )</code></pre>
<pre class="r"><code>#read in office data from schrute package
schrute.data &lt;- schrute::theoffice

#three different ways to visualize the tables
str(IMDB.data)</code></pre>
<pre><code>## tibble [188 × 6] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ season     : num [1:188] 1 1 1 1 1 1 2 2 2 2 ...
##  $ episode    : num [1:188] 1 2 3 4 5 6 1 2 3 4 ...
##  $ title      : chr [1:188] &quot;Pilot&quot; &quot;Diversity Day&quot; &quot;Health Care&quot; &quot;The Alliance&quot; ...
##  $ imdb_rating: num [1:188] 7.6 8.3 7.9 8.1 8.4 7.8 8.7 8.2 8.4 8.4 ...
##  $ total_votes: num [1:188] 3706 3566 2983 2886 3179 ...
##  $ air_date   : Date[1:188], format: &quot;2005-03-24&quot; &quot;2005-03-29&quot; ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   season = col_double(),
##   ..   episode = col_double(),
##   ..   title = col_character(),
##   ..   imdb_rating = col_double(),
##   ..   total_votes = col_double(),
##   ..   air_date = col_date(format = &quot;&quot;)
##   .. )</code></pre>
<pre class="r"><code>str(schrute.data)</code></pre>
<pre><code>## tibble [55,130 × 12] (S3: tbl_df/tbl/data.frame)
##  $ index           : int [1:55130] 1 2 3 4 5 6 7 8 9 10 ...
##  $ season          : int [1:55130] 1 1 1 1 1 1 1 1 1 1 ...
##  $ episode         : int [1:55130] 1 1 1 1 1 1 1 1 1 1 ...
##  $ episode_name    : chr [1:55130] &quot;Pilot&quot; &quot;Pilot&quot; &quot;Pilot&quot; &quot;Pilot&quot; ...
##  $ director        : chr [1:55130] &quot;Ken Kwapis&quot; &quot;Ken Kwapis&quot; &quot;Ken Kwapis&quot; &quot;Ken Kwapis&quot; ...
##  $ writer          : chr [1:55130] &quot;Ricky Gervais;Stephen Merchant;Greg Daniels&quot; &quot;Ricky Gervais;Stephen Merchant;Greg Daniels&quot; &quot;Ricky Gervais;Stephen Merchant;Greg Daniels&quot; &quot;Ricky Gervais;Stephen Merchant;Greg Daniels&quot; ...
##  $ character       : chr [1:55130] &quot;Michael&quot; &quot;Jim&quot; &quot;Michael&quot; &quot;Jim&quot; ...
##  $ text            : chr [1:55130] &quot;All right Jim. Your quarterlies look very good. How are things at the library?&quot; &quot;Oh, I told you. I couldn&#39;t close it. So...&quot; &quot;So you&#39;ve come to the master for guidance? Is this what you&#39;re saying, grasshopper?&quot; &quot;Actually, you called me in here, but yeah.&quot; ...
##  $ text_w_direction: chr [1:55130] &quot;All right Jim. Your quarterlies look very good. How are things at the library?&quot; &quot;Oh, I told you. I couldn&#39;t close it. So...&quot; &quot;So you&#39;ve come to the master for guidance? Is this what you&#39;re saying, grasshopper?&quot; &quot;Actually, you called me in here, but yeah.&quot; ...
##  $ imdb_rating     : num [1:55130] 7.6 7.6 7.6 7.6 7.6 7.6 7.6 7.6 7.6 7.6 ...
##  $ total_votes     : int [1:55130] 3706 3706 3706 3706 3706 3706 3706 3706 3706 3706 ...
##  $ air_date        : Factor w/ 184 levels &quot;2005-03-24&quot;,&quot;2005-03-29&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<pre class="r"><code>head(IMDB.data)</code></pre>
<pre><code>## # A tibble: 6 x 6
##   season episode title         imdb_rating total_votes air_date  
##    &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt;       &lt;dbl&gt; &lt;date&gt;    
## 1      1       1 Pilot                 7.6        3706 2005-03-24
## 2      1       2 Diversity Day         8.3        3566 2005-03-29
## 3      1       3 Health Care           7.9        2983 2005-04-05
## 4      1       4 The Alliance          8.1        2886 2005-04-12
## 5      1       5 Basketball            8.4        3179 2005-04-19
## 6      1       6 Hot Girl              7.8        2852 2005-04-26</code></pre>
<pre class="r"><code>head(schrute.data)</code></pre>
<pre><code>## # A tibble: 6 x 12
##   index season episode episode_name director writer character text 
##   &lt;int&gt;  &lt;int&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;
## 1     1      1       1 Pilot        Ken Kwa… Ricky… Michael   All …
## 2     2      1       1 Pilot        Ken Kwa… Ricky… Jim       Oh, …
## 3     3      1       1 Pilot        Ken Kwa… Ricky… Michael   So y…
## 4     4      1       1 Pilot        Ken Kwa… Ricky… Jim       Actu…
## 5     5      1       1 Pilot        Ken Kwa… Ricky… Michael   All …
## 6     6      1       1 Pilot        Ken Kwa… Ricky… Michael   Yes,…
## # … with 4 more variables: text_w_direction &lt;chr&gt;, imdb_rating &lt;dbl&gt;,
## #   total_votes &lt;int&gt;, air_date &lt;fct&gt;</code></pre>
<pre class="r"><code>glimpse(IMDB.data)</code></pre>
<pre><code>## Rows: 188
## Columns: 6
## $ season      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
## $ episode     &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, …
## $ title       &lt;chr&gt; &quot;Pilot&quot;, &quot;Diversity Day&quot;, &quot;Health Care&quot;, &quot;The Alliance&quot;, …
## $ imdb_rating &lt;dbl&gt; 7.6, 8.3, 7.9, 8.1, 8.4, 7.8, 8.7, 8.2, 8.4, 8.4, 8.2, 8.…
## $ total_votes &lt;dbl&gt; 3706, 3566, 2983, 2886, 3179, 2852, 3213, 2736, 2742, 271…
## $ air_date    &lt;date&gt; 2005-03-24, 2005-03-29, 2005-04-05, 2005-04-12, 2005-04-…</code></pre>
<pre class="r"><code>glimpse(schrute.data)</code></pre>
<pre><code>## Rows: 55,130
## Columns: 12
## $ index            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 1…
## $ season           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ episode          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ episode_name     &lt;chr&gt; &quot;Pilot&quot;, &quot;Pilot&quot;, &quot;Pilot&quot;, &quot;Pilot&quot;, &quot;Pilot&quot;, &quot;Pilot&quot;…
## $ director         &lt;chr&gt; &quot;Ken Kwapis&quot;, &quot;Ken Kwapis&quot;, &quot;Ken Kwapis&quot;, &quot;Ken Kwapi…
## $ writer           &lt;chr&gt; &quot;Ricky Gervais;Stephen Merchant;Greg Daniels&quot;, &quot;Rick…
## $ character        &lt;chr&gt; &quot;Michael&quot;, &quot;Jim&quot;, &quot;Michael&quot;, &quot;Jim&quot;, &quot;Michael&quot;, &quot;Mich…
## $ text             &lt;chr&gt; &quot;All right Jim. Your quarterlies look very good. How…
## $ text_w_direction &lt;chr&gt; &quot;All right Jim. Your quarterlies look very good. How…
## $ imdb_rating      &lt;dbl&gt; 7.6, 7.6, 7.6, 7.6, 7.6, 7.6, 7.6, 7.6, 7.6, 7.6, 7.…
## $ total_votes      &lt;int&gt; 3706, 3706, 3706, 3706, 3706, 3706, 3706, 3706, 3706…
## $ air_date         &lt;fct&gt; 2005-03-24, 2005-03-24, 2005-03-24, 2005-03-24, 2005…</code></pre>
<pre class="r"><code>#who are all the writers
distinct(schrute.data, writer)</code></pre>
<pre><code>## # A tibble: 47 x 1
##    writer                                     
##    &lt;chr&gt;                                      
##  1 Ricky Gervais;Stephen Merchant;Greg Daniels
##  2 B.J. Novak                                 
##  3 Paul Lieberstein                           
##  4 Michael Schur                              
##  5 Greg Daniels                               
##  6 Mindy Kaling                               
##  7 Gene Stupnitsky;Lee Eisenberg              
##  8 Larry Willmore                             
##  9 Jennifer Celotta                           
## 10 Lee Eisenberg;Gene Stupnitsky              
## # … with 37 more rows</code></pre>
<pre class="r"><code>select(schrute.data, writer)</code></pre>
<pre><code>## # A tibble: 55,130 x 1
##    writer                                     
##    &lt;chr&gt;                                      
##  1 Ricky Gervais;Stephen Merchant;Greg Daniels
##  2 Ricky Gervais;Stephen Merchant;Greg Daniels
##  3 Ricky Gervais;Stephen Merchant;Greg Daniels
##  4 Ricky Gervais;Stephen Merchant;Greg Daniels
##  5 Ricky Gervais;Stephen Merchant;Greg Daniels
##  6 Ricky Gervais;Stephen Merchant;Greg Daniels
##  7 Ricky Gervais;Stephen Merchant;Greg Daniels
##  8 Ricky Gervais;Stephen Merchant;Greg Daniels
##  9 Ricky Gervais;Stephen Merchant;Greg Daniels
## 10 Ricky Gervais;Stephen Merchant;Greg Daniels
## # … with 55,120 more rows</code></pre>
<pre class="r"><code>filter(schrute.data, episode == 1)</code></pre>
<pre><code>## # A tibble: 2,643 x 12
##    index season episode episode_name director writer character text 
##    &lt;int&gt;  &lt;int&gt;   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;
##  1     1      1       1 Pilot        Ken Kwa… Ricky… Michael   All …
##  2     2      1       1 Pilot        Ken Kwa… Ricky… Jim       Oh, …
##  3     3      1       1 Pilot        Ken Kwa… Ricky… Michael   So y…
##  4     4      1       1 Pilot        Ken Kwa… Ricky… Jim       Actu…
##  5     5      1       1 Pilot        Ken Kwa… Ricky… Michael   All …
##  6     6      1       1 Pilot        Ken Kwa… Ricky… Michael   Yes,…
##  7     7      1       1 Pilot        Ken Kwa… Ricky… Michael   I&#39;ve…
##  8     8      1       1 Pilot        Ken Kwa… Ricky… Pam       Well…
##  9     9      1       1 Pilot        Ken Kwa… Ricky… Michael   If y…
## 10    10      1       1 Pilot        Ken Kwa… Ricky… Pam       What?
## # … with 2,633 more rows, and 4 more variables: text_w_direction &lt;chr&gt;,
## #   imdb_rating &lt;dbl&gt;, total_votes &lt;int&gt;, air_date &lt;fct&gt;</code></pre>
<pre class="r"><code>#pipe operations %&gt;% 

#see how many episodes each writer wrote
writer.info &lt;- 
  schrute.data %&gt;% 
  group_by(season, episode) %&gt;% #collapse season first, and then episode, but this will leave us with many duplicates
  distinct(writer, .keep_all = TRUE) #distinct is going to get rid of those duplicates, but also of all the other columns
#use .keep_all to keep other columns, BUT R does not distinguish between the duplicates based on previous code and just picks first row in that set of duplicates that are specified</code></pre>
<p>Week 3:data visualization</p>
<pre class="r"><code>#ggplot: 
  # 1. provide the DATA
  # 2. map variables to AESTHETICS
  # 3. add LAYERS to render the data and aesthetics to the figure

#QUESTION: how many episodes did each writer write?
#bar chart of writer information
ggplot(schrute.data, aes(x = writer)) +
  geom_bar()</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/ggplot2%20intro-1.png" width="672" /></p>
<pre class="r"><code>#problems?

#bar chart of writer information after creating new table
ggplot(writer.info, aes(x = writer)) +
  geom_bar() +
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/ggplot2%20intro-2.png" width="672" /></p>
<pre class="r"><code>#QUESTION: how many episodes did each writer write per season
ggplot(writer.info, aes(x = writer, fill = season)) +
  geom_bar() +
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/ggplot2%20intro-3.png" width="672" /></p>
<pre class="r"><code>#problems?

#bar chart of writer information after cleaning up data types in table
ggplot(writer.info, aes(x = writer, fill = as.factor(season))) +
  geom_bar() +
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/ggplot2%20intro-4.png" width="672" /></p>
<pre class="r"><code>#ADDING MORE LAYERS
#Axes changes


#Reorder categories by frequency
ggplot(writer.info, aes(x = fct_infreq(writer), fill = as.factor(season))) +
  geom_bar() +
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/ggplot2%20intro-5.png" width="672" /></p>
<pre class="r"><code>#levels()
#fct_infreq()</code></pre>
<pre class="r"><code>#Visualizing the ratings based on the writer

#Notice anything about the writers?
#separate writers to each individual
writer.individual.info &lt;- 
  writer.info %&gt;% 
  separate_rows(writer, sep = &quot;;&quot;)




#QUESTION: What are the writers&#39; ratings?

#box plot
ggplot(writer.individual.info, aes(x = writer, y = imdb_rating)) + 
  geom_boxplot() + 
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/Box%20plot-1.png" width="672" /></p>
<pre class="r"><code>#Reordering the x axis by median
ggplot(writer.individual.info, aes(x = fct_reorder(writer, imdb_rating, .fun = median, .desc = TRUE), y = imdb_rating)) + 
  geom_boxplot() + 
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/Box%20plot-2.png" width="672" /></p>
<pre class="r"><code>#Add in points for each episode
ggplot(writer.individual.info, aes(x = fct_reorder(writer, imdb_rating, .fun = median, .desc = TRUE), y = imdb_rating)) + 
  geom_boxplot() + 
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1)) +
  geom_point()</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/Box%20plot-3.png" width="672" /></p>
<pre class="r"><code>#separate points by season
ggplot(writer.individual.info, aes(x = fct_reorder(writer, imdb_rating, .fun = median, .desc = TRUE), y = imdb_rating)) + 
  geom_boxplot() + 
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1)) +
  geom_jitter(aes(color = factor(season)))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/Box%20plot-4.png" width="672" /></p>
<pre class="r"><code>ggplot(writer.individual.info, aes(x = fct_reorder(writer, imdb_rating, .fun = median, .desc = TRUE), y = imdb_rating)) + 
  geom_boxplot() + 
  theme(axis.text.x = element_text(angle = 45, 
                                   hjust = 1)) +
  geom_jitter(aes(color = factor(season)))</code></pre>
<p><img src="/sessions/2020-05-26-analyzing-data-from-the-office_files/figure-html/Diff%20AES-1.png" width="672" /></p>
<pre class="r"><code>  labs(title = &quot;fun with schrute data&quot;)</code></pre>
<pre><code>## $title
## [1] &quot;fun with schrute data&quot;
## 
## attr(,&quot;class&quot;)
## [1] &quot;labels&quot;</code></pre>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/tidyverse/">tidyverse</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/sessions/analyzing-data-from-the-office/&amp;text=Analyzing%20Data%20from%20The%20Office" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/sessions/analyzing-data-from-the-office/&amp;t=Analyzing%20Data%20from%20The%20Office" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Analyzing%20Data%20from%20The%20Office&amp;body=/sessions/analyzing-data-from-the-office/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/sessions/analyzing-data-from-the-office/&amp;title=Analyzing%20Data%20from%20The%20Office" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Analyzing%20Data%20from%20The%20Office%20/sessions/analyzing-data-from-the-office/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/sessions/analyzing-data-from-the-office/&amp;title=Analyzing%20Data%20from%20The%20Office" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hud2a0c28589117e0043591c3782fdb764_45045_270x270_fill_lanczos_center_2.png" alt="">
      

      <div class="media-body">
        <h5 class="card-title"><a href="/authors/admin/"></a></h5>
        
        <p class="card-text">This organization is dedicated to fostering an effective and supportive data science learning community at the University of Vermont.</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://join.slack.com/t/dscore-uvm/shared_invite/zt-e53kis78-5K9T7fYV~4B27t_CnpI2lQ" target="_blank" rel="noopener">
        <i class="fab fa-slack"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/vtdscore" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  
















  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.66c553246b0f279a03be6e5597f72b52.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
    
       &middot; 
      <a href="/terms/">Terms</a>
    
  </p>
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
